{"version":3,"sources":["../../../src/components/views/menu/menu.jsx"],"names":[],"mappings":"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","file":"menu.js","sourcesContent":["import React from 'react';\nimport { Numbers, validateClassProps } from '../../utilities';\nimport classNames from 'classnames';\nimport DefaultProps from '../../defaultProps';\n\nlet validProps = {\n    attached: ['top', 'bottom'],\n    fitted: ['horizontally', 'vertically'],\n    floated: ['right', 'left']\n};\n\n/**\n * Menu. Could be simple or controlled. Controlled menu will be activated by providing value property and will manage\n * current active item and fire onChange callback when value was changed\n */\nexport default class Menu extends React.Component {\n    static propTypes = {\n        ...DefaultProps.propTypes,\n        /**\n         * A menu may be attached to other content segments\n         */\n        attached: React.PropTypes.oneOf(['top', 'bottom']),\n        /**\n         * A menu item or menu can have no borders\n         */\n        borderless: React.PropTypes.bool,\n        /**\n         * Use equal width for menu items\n         */\n        even: React.PropTypes.bool,\n        /**\n         * A menu item or menu can remove element padding, vertically or horizontally\n         */\n        fitted: React.PropTypes.oneOfType([\n            React.PropTypes.bool,\n            React.PropTypes.oneOf(['horizontally', 'vertically'])\n        ]),\n        /**\n         * A menu can be fixed to a side of its context\n         */\n        fixed: React.PropTypes.bool,\n        /**\n         * Float left or right\n         */\n        floated: React.PropTypes.oneOf(['right', 'left']),\n        /**\n         * A vertical menu may take the size of its container. (A horizontal menu does this by default)\n         */\n        fluid: React.PropTypes.bool,\n        /**\n         * A menu may have its colors inverted to show greater contrast\n         */\n        inverted: React.PropTypes.bool,\n        /**\n         * Menu active value\n         */\n        menuValue: React.PropTypes.oneOfType([\n            React.PropTypes.number,\n            React.PropTypes.string,\n            React.PropTypes.arrayOf(React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.number]))\n        ]),\n        /**\n         * Callback for active item change. Will not be fired if menuValue was omitted\n         * Will pass new menuValue or array of new menuValue\n         * If all items were unselected would pass null if menuValue is single value or empty array if menuValue is array\n         */\n        onMenuChange: React.PropTypes.func,\n        /**\n         * Callback for menu item click \n         */\n        onMenuItemClick: React.PropTypes.func,\n        /**\n         * A pagination menu is specially formatted to present links to pages of content\n         */\n        pagination: React.PropTypes.bool,\n        /**\n         * A menu can point to show its relationship to nearby content\n         */\n        pointing: React.PropTypes.bool,\n        /**\n         * A menu can be formatted to float right\n         */\n        right: React.PropTypes.bool,\n        /**\n         * A menu can adjust its appearance to de-emphasize its contents\n         */\n        secondary: React.PropTypes.bool,\n        /**\n         * A menu can be formatted to show tabs of information\n         */\n        tabular: React.PropTypes.bool,\n        /**\n         * A menu can be formatted for text content\n         */\n        text: React.PropTypes.bool,\n        /**\n         * A vertical menu displays elements vertically..\n         */\n        vertical: React.PropTypes.bool\n    };\n\n    static contextTypes = {\n        isMenuChild: React.PropTypes.bool,\n        isDropdownChild: React.PropTypes.bool\n    };\n\n    static childContextTypes = {\n        isMenuChild: React.PropTypes.bool\n    };\n\n    static defaultProps = {\n        ...DefaultProps.defaultProps,\n        onMenuItemClick: () => {},\n        onMenuChange: () => {}\n    };\n    \n    constructor(props) {\n        super(props);\n    }\n    \n    getChildContext() {\n        return {\n            isMenuChild: true\n        };\n    }\n    \n\n    onMenuItemClick(value, event) {\n        event.stopPropagation();\n        event.preventDefault();\n        \n        this.props.onMenuItemClick(value);\n        // Call onMenuChange callback when needed\n        if (typeof this.props.menuValue !== 'undefined') {\n            // Multiple menu selection\n            if (Array.isArray(this.props.menuValue)) {\n                if (this.props.menuValue.indexOf(value) !== -1) {\n                    // Unselect menu item\n                    this.props.onMenuChange(this.props.menuValue.filter(val => val !== value));\n                } else {\n                    // select menu item\n                    this.props.onMenuChange([...this.props.menuValue, value]);\n                }\n                // Single menu selection \n            } else {\n                // calling with null if clicking on same item, because we might want to unselect menu item\n                this.props.onMenuChange(this.props.menuValue !== value ? value : null);\n            }\n        }\n    }\n    \n    renderChildren() {\n        // should deep traverse?\n        return React.Children.map(this.props.children, child => {\n            // It may be empty\n            if (!child) return child;\n            \n            // Process if a child has menuValue property\n            if (typeof child.props.menuValue !== 'undefined') {\n                return React.cloneElement(child, {\n                    // If child has active property, then pass it\n                    active: (typeof child.props.active !== 'undefined') ? child.props.active : this.isActiveItem(child.props.menuValue),\n                    key: child.props.menuValue,\n                    onClick: this.onMenuItemClick.bind(this, child.props.menuValue)\n                });\n            } else {\n                // Menu could contain non items, for example divider, pass it untouched (only add key)\n                return React.cloneElement(child, {\n                    key: (typeof child.key !== 'undefined') ? child.key : child.props.children\n                });\n            }\n        });\n    }\n\n    render() {\n        /* eslint-disable no-use-before-define */\n        let { attached, borderless, component, even, fitted, fixed, fluid, floated, inverted, pagination,\n            pointing, right, secondary, tabular, text, menuValue, vertical, ...other } = this.props;\n        /* eslint-enable no-use-before-define */\n\n        other.className = classNames(this.props.className, this.getClasses());\n\n        if (this.props.component == Menu) {\n            component = 'div';\n        } else {\n            component = this.props.component;\n        }\n        \n        let children = this.renderChildren();\n\n        return React.createElement(\n            component,\n            other,\n            children\n        );\n    }\n\n    /**\n     * Returns true if it should be active item\n     * @param value\n     */\n    isActiveItem(value) {\n        if (typeof value === 'undefined') return false;\n        if (typeof this.props.menuValue === 'undefined') return false;\n        if (Array.isArray(this.props.menuValue) && this.props.menuValue.indexOf(value) !== -1) return true;\n        return !!(!Array.isArray(this.props.menuValue) && this.props.menuValue === value);\n    }\n    \n    getClasses() {\n        let childCount = React.Children.count(this.props.children);\n\n        let classes = {\n            // default\n            ui: this.props.defaultClasses && !this.context.isMenuChild && !this.context.isDropdownChild,\n\n            // numbers\n\n            // position\n            right: this.props.right,\n            top: false,\n            bottom: false,\n\n            // variations\n            item: this.props.even && childCount > 0,\n            borderless: this.props.borderless,\n            attached: this.props.attached,\n            floated: this.props.floated,\n            inverted: this.props.inverted,\n            pagination: this.props.pagination,\n            pointing: this.props.pointing,\n            secondary: this.props.secondary,\n            tabular: this.props.tabular,\n            vertical: this.props.vertical,\n            fluid: this.props.fluid,\n            fixed: this.props.fixed,\n            fitted: this.props.fitted,\n            text: this.props.text,\n\n            // dropdown\n            visible: this.context.isDropdownChild,\n            transition: this.context.isDropdownChild,\n\n            // component\n            menu: this.props.defaultClasses\n        };\n\n        if (this.props.even && childCount > 0) {\n            if (childCount > 0  && childCount <= 12) {\n                classes[Numbers[childCount]] = true;\n            }\n        }\n\n        return validateClassProps(classes, this.props, validProps);\n    }\n}\n"]}