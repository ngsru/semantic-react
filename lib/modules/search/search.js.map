{"version":3,"sources":["../../../src/components/modules/search/search.jsx"],"names":[],"mappings":"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","file":"search.js","sourcesContent":["import React from 'react';\nimport { Icon } from '../../elements';\nimport Transition from 'react-motion-ui-pack';\nimport Results from './results';\nimport classNames from 'classnames';\n\n/*\n3 support results types:\n\n{\n    title: 'test',\n    description: 'testing'\n}\n\n{\n    animal: ['cat', 'dog']\n}\n\n['test', 'test']\n*/\nexport default class Search extends React.Component {\n    static propTypes = {\n        children: React.PropTypes.node,\n        className: React.PropTypes.any,\n        component: React.PropTypes.oneOfType([\n            React.PropTypes.func,\n            React.PropTypes.string\n        ]),\n        defaultClasses: React.PropTypes.bool,\n        emptyHeader: React.PropTypes.string,\n        emptyMessage: React.PropTypes.string,\n        enterAnimation: React.PropTypes.object,\n        icon: React.PropTypes.oneOfType([\n            React.PropTypes.string,\n            React.PropTypes.bool\n        ]),\n        leaveAnimation: React.PropTypes.object,\n        loading: React.PropTypes.bool,\n        onChange: React.PropTypes.func.isRequired,\n        onSearchClick: React.PropTypes.func,\n        placeholder: React.PropTypes.string,\n        results: React.PropTypes.oneOfType([\n            React.PropTypes.array,\n            React.PropTypes.object\n        ]),\n        value: React.PropTypes.string\n    };\n\n    static defaultProps = {\n        component: 'div',\n        defaultClasses: true,\n        enterAnimation: {\n            opacity: 1,\n            scale: 1\n        },\n        leaveAnimation: {\n            opacity: 0,\n            scale: 0\n        },\n        icon: 'search',\n        onSearchClick: function noop() {},\n        placeholder: 'Search...',\n        value: ''\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            focus: false\n        };\n    }\n\n    onBlur() {\n        if (this.state.focus) {\n            this.setState({\n                focus: false\n            });\n        }\n    }\n\n    onChange(e) {\n        this.props.onChange(e);\n    }\n\n    onFocus() {\n        this.setState({\n            focus: true\n        });\n    }\n\n    onSearchClick(e, child) {\n        this.props.onSearchClick(e, child);\n    }\n\n    renderInput() {\n        return (\n            <div className={this.getClassesInput()}\n                 key=\"searchInput\"\n            >\n                <input className=\"prompt\"\n                    onBlur={this.onBlur.bind(this)}\n                    onChange={this.onChange.bind(this)}\n                    onFocus={this.onFocus.bind(this)}\n                    placeholder={this.props.placeholder}\n                    type=\"text\"\n                    value={this.props.value}/>\n                {this.renderInputIcon()}\n            </div>\n        );\n    }\n\n    renderInputIcon() {\n        if (!this.props.icon) return null;\n\n        return <Icon name={this.props.icon} />;\n    }\n\n    renderResults() {\n        let props = {\n            animate: this.state.focus && this.props.value !== '',\n            emptyHeader: this.props.emptyHeader,\n            emptyMessage: this.props.emptyMessage,\n            key: 'searchResults',\n            onSearchClick: this.onSearchClick.bind(this),\n            results: this.state.focus ? this.props.results : [],\n            search: this.props.value || ''\n        };\n\n        return (\n            <Transition component={false}\n                        enter={this.props.enterAnimation}\n                        leave={this.props.leaveAnimation}\n            >\n                {(this.state.focus && this.searchInput.value !== '') &&\n                    <Results {...props}/>\n                }\n\n            </Transition>\n        );\n    }\n\n    render() {\n        /* eslint-disable no-use-before-define */\n        let { children, className, component, defaultClasses, emptyHeader,\n              emptyMessage, enterAnimation, icon, leaveAnimation, loading,\n              onChange, onSearchClick, placeholder, results,\n              ...other } = this.props;\n        /* eslint-enable no-use-before-define */\n\n        other.className = classNames(this.props.className, this.getClasses());\n\n        return React.createElement(\n            this.props.component,\n            other,\n            [\n                this.renderInput(),\n                this.renderResults()\n            ]\n        );\n    }\n\n    getClassesInput() {\n        return classNames('ui input', {\n            icon: Boolean(this.props.icon)\n        });\n    }\n\n    getClasses() {\n        return {\n            ui: this.props.defaultClasses,\n            search: this.props.defaultClasses,\n\n            // state\n            loading: this.props.loading,\n            focus: this.state.focus,\n\n            category: !Array.isArray(this.props.results)\n        };\n    }\n\n}\n"]}