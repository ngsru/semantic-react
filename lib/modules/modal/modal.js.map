{"version":3,"sources":["../../../src/components/modules/modal/modal.jsx"],"names":[],"mappings":"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","file":"modal.js","sourcesContent":["import React from 'react';\nimport { ModalBody, Dimmer } from '../../modules';\nimport listensToClickOutside from 'react-onclickoutside/decorator';\n\nclass Modal extends React.Component {\n    static propTypes = {\n        active: React.PropTypes.bool,\n        basic: React.PropTypes.bool,\n        blurring: React.PropTypes.bool,\n        children: React.PropTypes.node,\n        component: React.PropTypes.oneOfType([\n            React.PropTypes.func,\n            React.PropTypes.string\n        ]),\n        disabled: React.PropTypes.bool,\n        enterAnimation: React.PropTypes.shape({\n            duration: React.PropTypes.number,\n            easing: React.PropTypes.string,\n            from: React.PropTypes.object,\n            to: React.PropTypes.object\n        }),\n        fullscreen: React.PropTypes.bool,\n        inverted: React.PropTypes.bool,\n        leaveAnimation: React.PropTypes.shape({\n            duration: React.PropTypes.number,\n            easing: React.PropTypes.string,\n            from: React.PropTypes.object,\n            to: React.PropTypes.object\n        }),\n        offset: React.PropTypes.number,\n        onComplete: React.PropTypes.func,\n        outsideClickClose: React.PropTypes.bool,\n        padding: React.PropTypes.number,\n        page: React.PropTypes.bool,\n        size: React.PropTypes.string\n    };\n\n    static defaultProps = {\n        component: 'div',\n        enterAnimation: {\n            duration: 500,\n            easing: 'in-ease',\n            from: {\n                opacity: 0,\n                transform: 'scale(0,0)',\n                WebkitTransform: 'scale(0,0)'\n            },\n            to: {\n                opacity: 1,\n                transform: 'scale(1,1)',\n                WebkitTransform: 'scale(1,1)'\n            }\n        },\n        leaveAnimation: {\n            duration: 500,\n            easing: 'in-ease',\n            from: {\n                opacity: 1,\n                transform: 'scale(1,1)',\n                WebkitTransform: 'scale(1,1)'\n            },\n            to: {\n                opacity: 0,\n                transform: 'scale(0,0)',\n                WebkitTransform: 'scale(0,0)'\n            }\n        },\n        onComplete: function noop() {},\n        outsideClickClose: true,\n        page: true\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            active: false,\n            visible: false\n        }\n    }\n\n    componentWillReceiveProps(props) {\n        if (props.active != this.props.active && props.active !== this.state.active) {\n            if (props.active) {\n                this.setState({\n                    active: true,\n                    visible: true\n                });\n            } else {\n                this.setState({\n                    active: false\n                });\n            }\n        }\n    }\n\n    shouldComponentUpdate(props, state) {\n        // this will happen when we modify the state by clicking the Backdrop\n        // we don't want to force a re-render just because the parent component\n        // got it's active state changed after the animation completed\n        if (props.active === this.props.active && state.active === this.state.active) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    onAnimationComplete() {\n        if (!this.state.active) {\n            this.setState({\n                visible: false\n            });\n        }\n\n        this.props.onComplete(this.state.active);\n    }\n\n\n    renderModalBody() {\n        /* eslint-disable no-use-before-define */\n        let { blurring, component, disabled, leaveAnimation, inverted, outsideClickClose, page, enterAnimation, ...other } = this.props;\n        /* eslint-enable no-use-before-define */\n\n        let props = Object.assign(other, {\n            animate: this.state.active,\n            active: this.state.visible,\n            start: this.props.enterAnimation,\n            end: this.props.leaveAnimation,\n            onComplete: this.onAnimationComplete.bind(this)\n        });\n\n        return React.createElement(\n            ModalBody,\n            props,\n            this.props.children\n        );\n    }\n\n    render() {\n        /* eslint-disable no-use-before-define */\n        let { basic, children, component, leaveAnimation, fullscreen, offset, outsideClickClose, padding, size, enterAnimation, ...other } = this.props;\n        /* eslint-enable no-use-before-define */\n        other.active = this.state.active;\n\n        return React.createElement(\n            Dimmer,\n            other,\n            this.renderModalBody()\n        );\n    }\n\n    handleClickOutside() {\n        if (this.props.outsideClickClose) {\n            if (this.state.active) {\n                this.setState({\n                    active: false\n                });\n            }\n        }\n    }\n\n    getModalClasses() {\n        let classes = {\n            // variations\n            basic: this.props.basic,\n            fullscreen: this.props.fullscreen\n        }\n\n        classes[this.props.size] = !!this.props.size;\n\n        return classes;\n    }\n}\n\n// Need this trick for react-docgen\nModal = listensToClickOutside(Modal);\nexport default Modal;\n"]}