{"version":3,"sources":["../../../src/components/modules/rating/rating.jsx"],"names":[],"mappings":"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","file":"rating.js","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport { Icon } from '../../elements';\n\nexport default class Rating extends React.Component {\n    static propTypes = {\n        children: React.PropTypes.node,\n        className: React.PropTypes.any,\n        component: React.PropTypes.oneOfType([\n            React.PropTypes.element,\n            React.PropTypes.string\n        ]),\n        defaultClasses: React.PropTypes.bool,\n        heart: React.PropTypes.bool,\n        /*\n         * The initial rating.\n         * @see https://facebook.github.io/react/tips/props-in-getInitialState-as-anti-pattern.html\n         */\n        initialValue: React.PropTypes.number,\n        max: React.PropTypes.number,\n        /*\n         * The callback to call when the user clicks an Icon. The icons' active classes are updated unless this function returns false.\n         */\n        onChange: React.PropTypes.func,\n        size: React.PropTypes.oneOf(['mini', 'tiny', 'small', 'medium', 'large', 'big', 'huge', 'massive']),\n        star: React.PropTypes.bool\n    }\n\n    static defaultProps = {\n        children: null,\n        component: 'div',\n        defaultClasses: true,\n        initialValue: 0,\n        max: 5\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = { value: props.initialValue };\n    }\n\n    renderChildren() {\n        let children = [];\n        let classes = {\n            icon: true\n        };\n\n        for (let i = 1; i <= this.props.max; i++) {\n            classes.active = this.state.value >= i;\n\n            if (this.props.onChange) {\n                children.push(\n                    <Icon\n                        className={classNames(classes)}\n                        key={i}\n                        onClick={this.handleChange.bind(this, i)} />\n                )\n            } else {\n                children.push(\n                    <Icon\n                        className={classNames(classes)}\n                        key={i} />\n                )\n            }\n\n        }\n\n        return children;\n    }\n\n    render() {\n        /* eslint-disable no-use-before-define */\n        let { component, defaultClasses, heart, max, size, star, initialValue, ...other } = this.props;\n        /* eslint-enable no-use-before-define */\n\n        other.className = classNames(this.props.className, this.getClasses());\n\n        return React.createElement(\n            this.props.component,\n            other,\n            this.renderChildren()\n        );\n    }\n\n    handleChange(index) {\n        if (index === this.state.value) {\n            this.props.onChange(0);\n            return;\n        }\n\n        if (this.props.onChange(index) !== false) {\n            this.setState({ value: index });\n        }\n    }\n\n    getClasses() {\n        return {\n            ui: this.props.defaultClasses,\n            [this.props.size]: !!this.props.size,\n            star: this.props.star,\n            heart: this.props.heart,\n            rating: this.props.defaultClasses\n        }\n    }\n}\n"]}